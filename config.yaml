settings:
  data_dir: data
  retention_days: 90
  site_title: "Dify Cloud Status (Unofficial)"
  site_url: "https://kurokobo.github.io/dify-status"
  notification:
    github_repo: "kurokobo/dify-status"
    issue_number: 1
  site_description:
    - "Periodically monitors the operational status of cloud.dify.ai by running pre-built apps and knowledge bases via the API, simulating real user operations."
    - "Runs every 15 minutes, triggered by cron-job.org via GitHub Actions workflow_dispatch. Data gaps may occur during outages on either side."
    - "All API-dependent checks share the same underlying API layer. An API outage will cause all such checks to fail simultaneously."
    - "Pro plan checks may stop working after around July 2026 due to the subscription period ending."
    - "Status change notifications (incidents and recoveries) are posted as comments to a GitHub Issue."
  site_disclaimer:
    - "This is an unofficial, independently operated status page. It is not affiliated with, endorsed by, or supported by Dify or LangGenius in any way."
    - "This project is in an early/alpha stage. Behavior, check configurations, and results may change at any time without prior notice."
    - "No guarantees are made regarding the accuracy, completeness, or reliability of the monitoring results. Use at your own risk."
    - "This is a personal project maintained by an individual contributor. Continued long-term operation is not guaranteed and the project may be discontinued at any time."

checks:
  - id: web_ui
    name: "Web UI"
    type: http
    description: "Check if cloud.dify.ai returns HTTP 200 (does not verify page rendering)"
    params:
      url: "https://cloud.dify.ai"
      method: GET
      expected_status: 200
      timeout: 30

  - id: api
    name: "API"
    type: http
    description: "Run a minimal chat flow (Start + Answer nodes only) and verify that the hardcoded response 'pong' is returned"
    params:
      url: "https://api.dify.ai/v1/chat-messages"
      method: POST
      api_key_env: "DIFY_API_KEY"
      expected_body: "pong"
      timeout: 60

  - id: sandbox
    name: "Sandbox"
    type: http
    description: "Run a chat flow (Start + Template + Answer nodes) where the Template node generates 'pong from sandbox', and verify it is included in the response"
    note: "Depends on API; if the API is down, this check will also fail"
    params:
      url: "https://api.dify.ai/v1/chat-messages"
      method: POST
      api_key_env: "DIFY_SANDBOX_API_KEY"
      expected_body: "pong from sandbox"
      timeout: 60

  - id: plugin
    name: "Plugin"
    type: http
    description: "Run a chat flow (Start + LLM with Fake Models + Answer nodes) where the LLM node generates 'pong from plugin', and verify it is included in the response"
    note: "Depends on API; if the API is down, this check will also fail"
    params:
      url: "https://api.dify.ai/v1/chat-messages"
      method: POST
      api_key_env: "DIFY_PLUGIN_API_KEY"
      expected_body: "pong from plugin"
      timeout: 60

  - id: indexing_free
    name: "Knowledge Indexing (Free Plan)"
    type: knowledge
    description: "Upload a small text document with Economy indexing on the Free (Sandbox) plan and verify the indexing queue processes it successfully"
    note: "Depends on API; if the API is down, this check will also fail. Checked approximately every 30 minutes to stay within API rate limits. Indexing time reflects the actual indexing duration, not the API call latency. If indexing is not completed within approximately 30 minutes, the check is considered failed"
    params:
      base_url: "https://api.dify.ai/v1"
      dataset_id_env: "DIFY_INDEXING_FREE_DATASET_ID"
      api_key_env: "DIFY_INDEXING_FREE_API_KEY"
      timeout: 30
      interval_minutes: 20

  - id: indexing_pro
    name: "Knowledge Indexing (Pro Plan)"
    type: knowledge
    description: "Upload a small text document with Economy indexing on the Pro plan and verify the indexing queue processes it successfully"
    note: "Depends on API; if the API is down, this check will also fail. Indexing time reflects the actual indexing duration, not the API call latency. If indexing is not completed within approximately 15 minutes, the check is considered failed. This check may stop working after around July 2026 due to the Pro plan subscription period ending"
    params:
      base_url: "https://api.dify.ai/v1"
      dataset_id_env: "DIFY_INDEXING_PRO_DATASET_ID"
      api_key_env: "DIFY_INDEXING_PRO_API_KEY"
      timeout: 30

  - id: retrieve
    name: "Knowledge Retrieval"
    type: retrieve
    description: "Send a semantic retrieval query to a pre-built High-Quality knowledge base and verify the vector search endpoint responds correctly"
    note: "Depends on API; if the API is down, this check will also fail. Uses semantic search (High-Quality mode) to exercise the vector DB"
    params:
      base_url: "https://api.dify.ai/v1"
      dataset_id_env: "DIFY_RETRIEVE_DATASET_ID"
      api_key_env: "DIFY_RETRIEVE_API_KEY"
      timeout: 30

  - id: webhook_free
    name: "Webhook Trigger (Free Plan)"
    type: webhook
    description: "Trigger a workflow via webhook on the Free (Sandbox) plan and verify it is processed successfully"
    note: "Depends on API; if the API is down, this check will also fail. Processing time reflects the actual workflow execution duration, not the API call latency. Checked approximately every 30 minutes to stay within API rate limits. If the webhook is not processed within approximately 30 minutes, the check is considered failed"
    params:
      trigger_url: "https://trigger.ai-plugin.io/triggers/webhook"
      trigger_token_env: "DIFY_WEBHOOK_FREE_TRIGGER_TOKEN"
      base_url: "https://api.dify.ai/v1"
      api_key_env: "DIFY_WEBHOOK_FREE_API_KEY"
      timeout: 30
      interval_minutes: 20

  - id: webhook_pro
    name: "Webhook Trigger (Pro Plan)"
    type: webhook
    description: "Trigger a workflow via webhook on the Pro plan and verify it is processed successfully"
    note: "Depends on API; if the API is down, this check will also fail. Processing time reflects the actual workflow execution duration, not the API call latency. If the webhook is not processed within approximately 15 minutes, the check is considered failed. This check may stop working after around July 2026 due to the Pro plan subscription period ending"
    params:
      trigger_url: "https://trigger.ai-plugin.io/triggers/webhook"
      trigger_token_env: "DIFY_WEBHOOK_PRO_TRIGGER_TOKEN"
      base_url: "https://api.dify.ai/v1"
      api_key_env: "DIFY_WEBHOOK_PRO_API_KEY"
      timeout: 30
